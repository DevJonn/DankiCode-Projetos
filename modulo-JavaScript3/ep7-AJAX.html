<html>
    <body>

        <div class="container"></div>

        <script>

            

            fetch('https://api.themoviedb.org/3/movie/popular?api_key=506fadb0256c13349acc05dabebf9604&language=en-US&page=1', {
                method: 'GET'
            })
            .then(response => response.json())
            .then(function(json){
                var container = document.querySelector('.container');


                //exercicio 2
                //console.log(json);
                json.results.map(function(val){
                    container.innerHTML+=`
                    
                        <div class='tituloFilme'>`+val.title+`
                        <div class='description'>`+val.overview+`</div>
                        <hr>    

                    </div>`;

                })

                var titulos = document.querySelectorAll('.tituloFilme');
                for(var i = 0; i < titulos.length; i++){
                    titulos[i].addEventListener('click',function (t){
                        t.target.querySelector('.description').style.display = 'block';
                    })
                }

            })







            
            //Funçao Fetch - fornece uma maneira fácil e eficiente de fazer requisições de rede (HTTP requests) e manipular as respostas recebidas por meio de Promises.
            //fetch1 simples para retorno:
            /*
            fetch('https://jsonplaceholder.typicode.com/todos/1')
            .then(response=> response.json())
            .then(json=>console.log(json))
            
            //fetch2 colocando informações:
            fetch('https://jsonplaceholder.typicode.com/posts',{
                method:'POST',
                body: JSON.stringify({
                    titile:'Danki Code',
                    body: 'Meus Conteudo',
                    userId: 10 
                }),
                headers:{
                    'Content-Type': 'application/json; charset=UTF-8'
                }
            })
            .then(response=> response.json())
            .then(json=>console.log(json))
            

            //aula1 - AJAX= AJAX é uma técnica de programação que permite que as páginas da web sejam atualizadas sem a necessidade de recarregar a página inteira. A sigla AJAX significa Asynchronous JavaScript and XML (JavaScript e XML Assíncronos) e refere-se à forma como essa técnica é implementada.

            var request = new XMLHttpRequest();
            request.open('GET','https://jsonplaceholder.typicode.com/todos/1',true);

            request.onload = function(){
                if(this.status >= 200 && this.status < 4000){
                    //request foi feita com sucesso!
                    var data = JSON.parse(this.response);
                    console.log(data);
                }else{
                    //erro.
                }
            }

            request.onerror = function(){

            }

            request.send();
            */ 

        </script>
    </body>
</html>